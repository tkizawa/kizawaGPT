# KizawaGPT 取扱説明書

## 概要
KizawaGPTは、Tkinterを用いて構築されたチャットアプリケーションで、OpenAIのAPIを使用してAIとの会話を行います。会話履歴の保存や復元、ウィンドウの状態保存などの機能も備えています。

## 目次
1. [必要な環境](#必要な環境)
2. [インストール方法](#インストール方法)
3. [基本的な使い方](#基本的な使い方)
4. [機能の説明](#機能の説明)
5. [設定の変更](#設定の変更)
6. [トラブルシューティング](#トラブルシューティング)

## 必要な環境
- Python 3.6以上
- インターネット接続
- OpenAI APIキー

## インストール方法
1. プロジェクトのディレクトリを作成し、必要なファイル（`kizawaGPT.py`, `setting.json`, `work.json`）を配置します。
2. 必要なPythonパッケージをインストールします。

```sh
pip install tkinter openai
```

3. `setting.json`ファイルにOpenAI APIキーとエンドポイントを設定します。

```json
{
    "AZURE_OPENAI_KEY": "your_api_key",
    "AZURE_OPENAI_ENDPOINT": "your_api_endpoint",
    "DEPLOYMENT_NAME": "your_deployment_name",
    "MAX_TOKENS": 2000,
    "TEMPERATURE": 0.7
}
```

## 基本的な使い方
1. プログラムを実行します。

```sh
python kizawaGPT.py
```

2. メインウィンドウが表示されます。

### メインウィンドウの構成
- **チャット履歴**: これまでの会話が表示されます。
- **入力フィールド**: ここにメッセージを入力します。
- **送信ボタン**: メッセージを送信します。
- **続きボタン**: AIに続きを要求します。
- **会話の続きボタン**: 最新の会話を読み込みます。
- **会話履歴読み込みボタン**: 過去の会話履歴を読み込みます。
- **会話履歴を見るボタン**: 会話履歴フォルダを開きます。
- **会話をクリアボタン**: 現在の会話をクリアします。
- **設定ボタン**: APIキーやエンドポイントの設定を変更します。
- **終了ボタン**: アプリケーションを終了します。
- **プログレスバー**: メッセージの処理中に表示されます。

## 機能の説明
### メッセージの送信
1. 入力フィールドにメッセージを入力します。
2. 「送信」ボタンを押すか、`Ctrl + Enter`キーを押してメッセージを送信します。
3. AIからの応答がチャット履歴に表示されます。

### 続きの要求
1. 「続き」ボタンを押して、AIに続きを要求します。

### 会話の復元
1. 「会話の続き」ボタンを押して、最新の会話を読み込みます。

### 会話履歴の読み込み
1. 「会話履歴読み込み」ボタンを押して、ファイル選択ダイアログを開きます。
2. 読み込みたい会話履歴ファイルを選択し、メッセージを送信して続きの会話を開始します。

### 会話履歴の表示
1. 「会話履歴を見る」ボタンを押して、会話履歴フォルダを開きます。

### 会話のクリア
1. 「会話をクリア」ボタンを押して、現在の会話をクリアします。

### 設定の変更
1. 「設定」ボタンを押して、設定ウィンドウを開きます。
2. APIキーやエンドポイント、トークン数、温度などを変更できます。
3. 「保存」ボタンを押して設定を保存します。

### アプリケーションの終了
1. 「終了」ボタンを押してアプリケーションを終了します。

## 設定の変更
設定ウィンドウを開いて、以下の項目を変更できます。
- **API Key**: OpenAI APIキー
- **API Endpoint**: APIエンドポイント
- **Deployment Name**: デプロイメント名
- **Max Tokens**: 最大トークン数
- **Temperature**: 温度（生成の多様性）

## トラブルシューティング
### エラーが発生した場合
- エラーメッセージがチャット履歴に表示されます。

### 設定ファイルが読み込まれない場合
- `setting.json`ファイルが存在することを確認してください。
- JSON形式が正しいことを確認してください。

### 会話履歴が保存されない場合
- `会話履歴`フォルダが存在することを確認してください。
- ファイル名が正しく生成されていることを確認してください。
